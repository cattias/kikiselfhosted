{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    ":disableRateLimiting",
    ":configMigration"
  ],
  "dependencyDashboardTitle": "Renovate Kiki Dashboard - Server",
  "rebaseWhen": "conflicted",
  "customManagers": [
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/apps/templates/vault/vault\\.yaml/"
      ],
      "matchStrings": [
        "image:\\s*\\n\\s*repository:\\s*vaultwarden\\/server\\s*\\n\\s*tag:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "vaultwarden/server",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/apps/templates/pihole\\.yaml/"
      ],
      "matchStrings": [
        "image:\\s*\\n\\s*repository:\\s*pihole\\/pihole\\s*\\n\\s*tag:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/pi-hole/pihole",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/apps/templates/immich/immich\\.yaml/"
      ],
      "matchStrings": [
        "repoURL:\\s*oci:\\/\\/ghcr\\.io\\/immich-app\\/immich-charts\\/immich\\s*\\n\\s*targetRevision:\\s*(?<currentValue>v?[0-9\\.]+)\\s*\\n\\s*chart:\\s*immich"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/immich-app/immich-charts/immich",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/apps/templates/cert-manager/cert-manager\\.yaml/"
      ],
      "matchStrings": [
        "repoURL:\\s*oci:\\/\\/quay\\.io\\/jetstack\\/charts\\/cert-manager\\s*\\n\\s*targetRevision:\\s*(?<currentValue>v?[0-9\\.]+)\\s*\\n\\s*chart:\\s*cert-manager"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "quay.io/jetstack/charts/cert-manager",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/apps/templates/immich/immich\\.yaml/"
      ],
      "matchStrings": [
        "main:\\s*\\n\\s*image:\\s*\\n\\s*tag:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/immich-app/immich-server",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/homepage/homepage-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*homepage\\s*\\n\\s*image:\\s*ghcr\\.io\\/gethomepage\\/homepage:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/gethomepage/homepage",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/kube-prometheus-stack/nut-exporter-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*nut-exporter\\s*\\n\\s*image:\\s*ghcr\\.io\\/druggeri\\/nut_exporter:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/druggeri/nut_exporter",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/paperless/paperless-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*paperless-ngx\\s*\\n\\s*image:\\s*ghcr\\.io\\/paperless-ngx\\/paperless-ngx:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/paperless-ngx/paperless-ngx",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/paperless/bentopdf-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*bentopdf\\s*\\n\\s*image:\\s*ghcr\\.io\\/alam00000\\/bentopdf-simple:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/alam00000/bentopdf-simple",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/paperless/memos-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*memos\\s*\\n\\s*image:\\s*neosmemo\\/memos:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "neosmemo/memos",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/plex/kometa-cron\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*kometa\\s*\\n\\s*image:\\s*kometateam\\/kometa:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "kometateam/kometa",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/plex/plex\\.yaml/"
      ],
      "matchStrings": [
        "tag:\\s*(?<currentValue>[a-zA-Z0-9\\.\\-]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "plexinc/pms-docker",
      "versioningTemplate": "regex:^(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)\\.(?<build>\\d+)-(?<revision>[a-f0-9]+)$"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/mealie/mealie-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*mealie\\s*\\n\\s*image:\\s*ghcr\\.io\\/mealie-recipes\\/mealie:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/mealie-recipes/mealie",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/databases/immich\\.redis\\.yaml/"
      ],
      "matchStrings": [
        "kubernetesConfig:\\s*\\n\\s*image:\\s*quay\\.io\\/opstree\\/redis:(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "quay.io/opstree/redis",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/databases/paperless\\.redis\\.yaml/"
      ],
      "matchStrings": [
        "kubernetesConfig:\\s*\\n\\s*image:\\s*quay\\.io\\/opstree\\/redis:(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "quay.io/opstree/redis",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/arr/deemix-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*deemix\\s*\\n\\s*image:\\s*ghcr\\.io\\/bambanah\\/deemix:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/bambanah/deemix",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/arr/metube-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*metube\\s*\\n\\s*image:\\s*alexta69\\/metube:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "alexta69/metube",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/plex/tautulli-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*tautulli\\s*\\n\\s*image:\\s*ghcr\\.io\\/tautulli\\/tautulli:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/tautulli/tautulli",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/plex/plex-auto-language\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*plex-auto-languages\\s*\\n\\s*image:\\s*remirigal\\/plex-auto-languages:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "remirigal/plex-auto-languages",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/apps/templates/rook-ceph/rook-ceph-cluster\\.yaml/"
      ],
      "matchStrings": [
        "image:\\s*quay\\.io/ceph/ceph:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "quay.io/ceph/ceph",
      "versioningTemplate": "semver"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/homeassistant/ha-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*homeassistant\\s*\\n\\s*image:\\s*ghcr\\.io\\/home-assistant\\/home-assistant:\\s*(?<currentValue>v?[0-9\\.]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/home-assistant/home-assistant",
      "versioningTemplate": "semver"
    },
    // {
    //   "customType": "regex",
    //   "managerFilePatterns": [
    //     "/arr/seerr-deployment\\.yaml/"
    //   ],
    //   "matchStrings": [
    //     "name:\\s*seerr\\s*\\n\\s*image:\\s*ghcr\\.io\\/seerr-team\\/seerr:\\s*(?<currentValue>v?[0-9\\.]+)"
    //   ],
    //   "datasourceTemplate": "docker",
    //   "depNameTemplate": "ghcr.io/seerr-team/seerr",
    //   "versioningTemplate": "semver"
    // },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/arr/sonarr-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*sonarr\\s*\\n\\s*image:\\s*ghcr\\.io\\/linuxserver\\/sonarr:\\s*(?<currentValue>[a-zA-Z0-9\\.\\-]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/linuxserver/sonarr",
      "versioningTemplate": "regex:^v?(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)(?:\\.(?<revision>\\d+))?-ls(?<build>\\d+)$"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/arr/nzbget-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*nzbget\\s*\\n\\s*image:\\s*ghcr\\.io\\/linuxserver\\/nzbget:\\s*(?<currentValue>[a-zA-Z0-9\\.\\-]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/linuxserver/nzbget",
      "versioningTemplate": "regex:^v?(?<major>\\d+)\\.(?<minor>\\d+)(?:\\.(?<patch>\\d+))?(?:\\.(?<revision>\\d+))?-ls(?<build>\\d+)$"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/arr/beets-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*beets\\s*\\n\\s*image:\\s*ghcr\\.io\\/linuxserver\\/beets:\\s*(?<currentValue>[a-zA-Z0-9\\.\\-]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/linuxserver/beets",
      "versioningTemplate": "regex:^v?(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)(?:\\.(?<revision>\\d+))?-ls(?<build>\\d+)$"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/arr/prowlarr-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*prowlarr\\s*\\n\\s*image:\\s*ghcr\\.io\\/linuxserver\\/prowlarr:\\s*(?<currentValue>[a-zA-Z0-9\\.\\-]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/linuxserver/prowlarr",
      "versioningTemplate": "regex:^v?(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)(?:\\.(?<revision>\\d+))?-ls(?<build>\\d+)$"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/arr/radarr-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*radarr\\s*\\n\\s*image:\\s*ghcr\\.io\\/linuxserver\\/radarr:\\s*(?<currentValue>[a-zA-Z0-9\\.\\-]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/linuxserver/radarr",
      "versioningTemplate": "regex:^v?(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)(?:\\.(?<revision>\\d+))?-ls(?<build>\\d+)$"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/arr/sabnzbd-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*sabnzbd\\s*\\n\\s*image:\\s*ghcr\\.io\\/linuxserver\\/sabnzbd:\\s*(?<currentValue>[a-zA-Z0-9\\.\\-]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/linuxserver/sabnzbd",
      "versioningTemplate": "regex:^v?(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)(?:\\.(?<revision>\\d+))?-ls(?<build>\\d+)$"
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/arr/bazarr-deployment\\.yaml/"
      ],
      "matchStrings": [
        "name:\\s*bazarr\\s*\\n\\s*image:\\s*ghcr\\.io\\/linuxserver\\/bazarr:\\s*(?<currentValue>[a-zA-Z0-9\\.\\-]+)"
      ],
      "datasourceTemplate": "docker",
      "depNameTemplate": "ghcr.io/linuxserver/bazarr",
      "versioningTemplate": "regex:^v?(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)(?:\\.(?<revision>\\d+))?-ls(?<build>\\d+)$"
    }
  ],
  "packageRules": [
    {
      "matchPackageNames": [
        "quay.io/ceph/ceph"
      ],
      "allowedVersions": "<20.0.0"
    }
  ],
  "argocd": {
    "enabled": true,
    "managerFilePatterns": [
      "/\\.yaml$/"
    ],
    "ignorePaths": [
      "**/immich/**",
      "**/cert-manager/**",
      "**/databases\\.yaml",
      "**/paperless\\.yaml",
      "**/mealie\\.yaml",
      "**/lgtm\\.yaml",
      "**/garmin-grafana\\.yaml",
      "**/prometheus-app\\.yaml",
      "**/plex-app\\.yaml",
      "**/arr\\.yaml",
      "**/rook-ceph-cluster-addition\\.yaml",
      "**/homepage-app\\.yaml",
      "**/nextcloud/**",
      "**/opencloud/**",
      "**/dsm\\.yaml"
    ]
  }
}
