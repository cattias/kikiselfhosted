apiVersion: v1
data:
  config.yaml: |
    libraryPath: /music
    downloadPath: /downloads
    telegram:
      enabled: true
      token: TOKEN
      allowedUsers:
        - kikattias
      bot_handle: kikialerting_bot
    logger:
      enabled: true
      level: info
      format: text
      htmx_debug: false
    downloaders:
      plugins:
        - name: "deezer"
          enabled: true
          path: "./plugins/deemix/plugin.so"
          icon: https://demo2.contre.io/img/deezer.png
          config:
            arl: "ARL"
            preferred_quality: "FLAC"
            fallback_quality: "MP3_320"
            # preferred_quality: "MP3_320"
        - name: "youtube"
          enabled: true
          path: "./plugins/youtube/plugin.so"
          icon: "https://upload.wikimedia.org/wikipedia/commons/e/ef/Youtube_logo.png"
          config:
            max_playlist_items: 10
      artwork:
        embedded:
          enabled: true
          size: 1000
          quality: 85
    server:
      show_routes: false
      port: 3535
    database:
      path: /app/db/library.db
    import:
      move: true
      always_queue: false # When true, it will queue every single imported track for manual review.
      duplicates: skip
      paths:
        compilations: "%asciify{$albumartist}/%asciify{$album} (%if{$original_year,$original_year,$year})/%asciify{$track $title}"
        album:soundtrack: "%asciify{$albumartist}/%asciify{$album} [OST] (%if{$original_year,$original_year,$year})/%asciify{$track $title}"
        album:single: "%asciify{$albumartist}/%asciify{$album} [Single] (%if{$original_year,$original_year,$year})/%asciify{$track $title}"
        album:ep: "%asciify{$albumartist}/%asciify{$album} [EP] (%if{$original_year,$original_year,$year})/%asciify{$track $title}"
        default_path: "%asciify{$albumartist}/%asciify{$album} (%if{$original_year,$original_year,$year})/%asciify{$track $title}"
      auto_start_watcher: true
    metadata:
      providers:
        acoustid:
          enabled: true
          secret: ACOUSTID
        deezer:
          enabled: true
        discogs:
          enabled: false
          # secret: <discogs_token> # You can get it here -> https://www.discogs.com/settings/developers
        musicbrainz:
          enabled: true
    lyrics:
      providers:
        lrclib:
          enabled: true
    sync:
      enabled: false
    jobs:
      log: true
      log_path: /app/logs/jobs
      webhooks:
        enabled: true
        job_types:
          - directory_import
          - download_album
        command: "TEXT=\"üéµ Job {{.Name}} ({{.Type}}) {{.Status}}\\nüìù {{.Message}}\\n‚è±Ô∏è  Duration: {{.Duration}}\"\ncurl -X POST -H 'Content-Type: application/json' \\\n  -d '{\"chat_id\": \"-5088656987\", \"text\": \"'\"$TEXT\"'\", \"parse_mode\": \"HTML\"}' \\\n  https://api.telegram.org/botTELEGRAM_TOKEN/sendMessage\n"
kind: ConfigMap
metadata:
  name: soulsolid-config-cm
  namespace: arr
